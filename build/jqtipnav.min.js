"use strict";function _typeof(a){return a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(window.jQuery)}(function(a){var b,c,d=function(){var a;return{generate:function(){return a="undefined"==typeof a?1:a+1}}}();c=function(){function a(){_classCallCheck(this,a)}return _createClass(a,[{key:"define",value:function(a,b){this[a]=b}}]),a}(),b=new c,b.define("Action",function(){function b(a,c){_classCallCheck(this,b),this.$el=a,this.trigger_event=c.trigger_event,this.fade_time=c.fade_time}return _createClass(b,[{key:"get_geometry",value:function(a){return{tn:{off:a.offset(),height:a.outerHeight(),width:a.outerWidth()},ac:{off:this.$el.offset(),height:this.$el.outerHeight(),width:this.$el.outerWidth()}}}},{key:"get_container_position",value:function(a){var b,c=this.get_geometry(a),d=c.ac.off.left+c.ac.width/2,e=c.ac.off.top-c.tn.height;return b=c.tn.width<=c.ac.width||c.ac.off.left>c.tn.width/2?d-c.tn.width/2:c.ac.off.left,c.ac.off.top<c.tn.height&&(e=c.ac.off.top+c.ac.height),{left:b,top:e}}},{key:"bind_container",value:function(b){var c=this,d=function(){b.data("hoverTimeout",setTimeout(function(){b.fadeOut(c.fade_time||200,function(){b.data("open",!1)})},200))};this.$el.bind(this.trigger_event,function(a){a.preventDefault(),"undefined"!=typeof b.data("hoverTimeout")&&clearTimeout(b.data("hoverTimeout")),"click"===c.trigger_event&&b.data("open")===!0&&d(),b.show().data("open",!0)}),"click"!==this.trigger_event&&(this.$el.mouseleave(function(){d()}),b.mouseenter(function(){clearTimeout(a(this).data("hoverTimeout"))}),b.mouseleave(function(){d()}))}},{key:"setup_container",value:function(b,c){var d,e=this,f=b.find(".jqtipnav-prev, .jqtipnav-next");f.length>0&&f.bind("click",function(f){var g,h=a(f.target);f.preventDefault(),h.hasClass("jqtipnav-prev")&&(g=b.prev(),0==g.length&&(g=b.siblings(":last"))),h.hasClass("jqtipnav-next")&&(g=b.next(),0==g.length&&(g=b.siblings(":first"))),b.hide(),g.show(),d=e.get_container_position(g),c.css(d)}),this.$el.bind(this.trigger_event,function(a){if(c){var f=c.find("div[data-jqtipnav]:visible");d=e.get_container_position(f),c.css(d)}else d=e.get_container_position(b),b.show().css(d)})}}]),b}()),b.define("Container",function(){function c(d,e,f,g){var h=this;_classCallCheck(this,c);var i={trigger_event:"mouseenter",fade_time:200},f=a.extend({},i,f||{}),g=g||!1;this.action=new b.Action(d,f),this.container=b.Container.build(e,g),Object.defineProperty(this,"$wrap",{writable:!1,value:this.container.$wrap}),Object.defineProperty(this,"$container",{set:function(a){var b=a.children().clone();h.container.$el.find("ul").append(b)},get:function(){return h.container.$el}}),Object.defineProperty(this,"id",{writable:!1,value:this.container.id}),g===!0?this.action.bind_container(this.$wrap):g||this.action.bind_container(this.$container),this.action.setup_container(this.$container,this.$wrap)}return _createClass(c,null,[{key:"build",value:function(c){var e,f,g=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];if("boolean"==typeof g&&g===!0)f=a('<div class="jqtipnav-wrap"></div>'),f.css("position","absolute"),e=b.Container.build(c,f).$el,e.appendTo(f),e.show(),f.appendTo("body"),f.hide();else{var h=d.generate();if(e=a("<div data-jqtipnav="+h+"><ul></ul></div>"),e.find("ul").append(c.children().clone()),c.attr("data-jqtipnav-main",h),g){var i=a('<li><a class="jqtipnav-prev" href="#">&lt;</a></li>'),j=a('<li><a class="jqtipnav-next" href="#">&gt;</a></li>');f=g,e.find("ul").prepend(i).append(j),e.appendTo(f),e.hide()}else e.css("position","absolute"),e.appendTo("body"),e.hide()}return{$wrap:f,$el:e,id:e.attr("data-jqtipnav")}}}]),c}()),a.fn.tipnav=function(c){var d,e,f,g=this,h=this,i=h.length>1,j={clean:function(){var b,c,d;1===h.length&&"body"===h.prop("nodeName").toLowerCase()||"#document"===h.prop("nodeName")?(a("body").find("[data-jqtipnav]").remove(),a("body").find(".jqtipnav-wrap").remove(),a("[data-jqtipnav-main]").show().removeAttr("data-jqtipnav-main")):h.each(function(){b=parseInt(a(this).attr("data-jqtipnav-main")),"undefined"!=typeof b&&(d=a("body").find("[data-jqtipnav="+b+"]"),c=d.parent(".jqtipnav-wrap"),d.remove(),0!==c.length&&0==c.children().length&&c.remove()),a(this).show(),a(this).removeAttr("data-jqtipnav-main")})}},k=Array.prototype.slice.call(arguments);if("string"!=typeof k[0]){var l=function(){var j=void 0;return e=c,d=e.action_element,i?(f=!0,h.each(function(){j=new b.Container(d,a(this),e,f),f===!0&&(f=j.$wrap)})):j=new b.Container(d,a(g),e),{v:h.hide()}}();if("object"===("undefined"==typeof l?"undefined":_typeof(l)))return l.v}else j[k[0]]();return h}});